webpackJsonp([19],{1030:function(t,e,n){"use strict";function o(t,e,n){return null===w&&(w=t.createRenderComponentType("",0,_.ViewEncapsulation.None,[],{})),new b(t,e,n)}function i(t,e,n){return null===R&&(R=t.createRenderComponentType("C:/Users/Silvia/OneDrive/Bakal√°rka/Project/assets/app/validator-info/validator-info.component.html",0,_.ViewEncapsulation.None,I,{})),new O(t,e,n)}function r(t,e,n){return new j(t,e,n)}var s=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=n(89),c=n(62),l=n(941),u=n(63),h=n(51),p=n(50),f=n(881),d=n(52),_=n(72),m=n(71),v=n(224),y=n(158),g=n(900),S=n(113),w=null,b=function(t){function e(n,o,i){t.call(this,e,w,h.ViewType.HOST,n,o,i,p.ChangeDetectorStatus.CheckAlways)}return s(e,t),e.prototype.createInternal=function(t){this._el_0=this.selectOrCreateHostElement("app-solution-validator-info",t,null),this._appEl_0=new c.AppElement(0,null,this,this._el_0);var e=i(this.viewUtils,this.injector(0),this._appEl_0);return this._ValidatorInfoComponent_0_4=new l.ValidatorInfoComponent(this.parentInjector.get(f.SolutionService),this.parentInjector.get(d.ActivatedRoute)),this._appEl_0.initComponent(this._ValidatorInfoComponent_0_4,[],e),e.create(this._ValidatorInfoComponent_0_4,this.projectableNodes,null),this.init([].concat([this._el_0]),[this._el_0],[],[]),this._appEl_0},e.prototype.injectorGetInternal=function(t,e,n){return t===l.ValidatorInfoComponent&&0===e?this._ValidatorInfoComponent_0_4:n},e.prototype.detectChangesInternal=function(t){0!==this.numberOfChecks||t||this._ValidatorInfoComponent_0_4.ngOnInit(),this.detectContentChildrenChanges(t),this.detectViewChildrenChanges(t)},e.prototype.destroyInternal=function(){this._ValidatorInfoComponent_0_4.ngOnDestroy()},e}(a.AppView);e.ValidatorInfoComponentNgFactory=new m.ComponentFactory("app-solution-validator-info",o,l.ValidatorInfoComponent);var I=[],R=null,O=function(t){function e(n,o,i){t.call(this,e,R,h.ViewType.COMPONENT,n,o,i,p.ChangeDetectorStatus.CheckAlways)}return s(e,t),e.prototype.createInternal=function(t){var e=this.renderer.createViewRoot(this.declarationAppElement.nativeElement);return this._el_0=this.renderer.createElement(e,"div",null),this.renderer.setElementAttribute(this._el_0,"class","container"),this.renderer.setElementAttribute(this._el_0,"style","margin-top: 3%"),this._text_1=this.renderer.createText(this._el_0,"\n    ",null),this._el_2=this.renderer.createElement(this._el_0,"div",null),this.renderer.setElementAttribute(this._el_2,"class","row"),this._text_3=this.renderer.createText(this._el_2,"\n        ",null),this._el_4=this.renderer.createElement(this._el_2,"div",null),this.renderer.setElementAttribute(this._el_4,"class","col-xs-12 col-md-8 col-md-offset-2"),this._text_5=this.renderer.createText(this._el_4,"\n            ",null),this._anchor_6=this.renderer.createTemplateAnchor(this._el_4,null),this._appEl_6=new c.AppElement(6,4,this,this._anchor_6),this._TemplateRef_6_5=new y.TemplateRef_(this._appEl_6,r),this._NgIf_6_6=new v.NgIf(this._appEl_6.vcRef,this._TemplateRef_6_5),this._text_7=this.renderer.createText(this._el_4,"\n        ",null),this._text_8=this.renderer.createText(this._el_2,"\n    ",null),this._text_9=this.renderer.createText(this._el_0,"\n",null),this._text_10=this.renderer.createText(e,"\n",null),this._expr_0=p.UNINITIALIZED,this.init([],[this._el_0,this._text_1,this._el_2,this._text_3,this._el_4,this._text_5,this._anchor_6,this._text_7,this._text_8,this._text_9,this._text_10],[],[]),null},e.prototype.injectorGetInternal=function(t,e,n){return t===y.TemplateRef&&6===e?this._TemplateRef_6_5:t===v.NgIf&&6===e?this._NgIf_6_6:n},e.prototype.detectChangesInternal=function(t){var e=this.context.solution;u.checkBinding(t,this._expr_0,e)&&(this._NgIf_6_6.ngIf=e,this._expr_0=e),this.detectContentChildrenChanges(t),this.detectViewChildrenChanges(t)},e}(a.AppView);e.viewFactory_ValidatorInfoComponent0=i;var j=function(t){function e(n,o,i){t.call(this,e,R,h.ViewType.EMBEDDED,n,o,i,p.ChangeDetectorStatus.CheckAlways)}return s(e,t),e.prototype.createInternal=function(t){return this._el_0=this.renderer.createElement(null,"div",null),this._text_1=this.renderer.createText(this._el_0,"\n                ",null),this._el_2=this.renderer.createElement(this._el_0,"div",null),this._text_3=this.renderer.createText(this._el_0,"\n            ",null),this._pipe_escapeHtml_0=new g.EscapeHtmlPipe,this._expr_0=p.UNINITIALIZED,this.init([].concat([this._el_0]),[this._el_0,this._text_1,this._el_2,this._text_3],[],[]),null},e.prototype.detectChangesInternal=function(t){var e=new p.ValueUnwrapper;this.detectContentChildrenChanges(t),e.reset();var n=e.unwrap(this._pipe_escapeHtml_0.transform(this.parent.context.solution.info));(e.hasWrappedValue||u.checkBinding(t,this._expr_0,n))&&(this.renderer.setElementProperty(this._el_2,"innerHTML",this.viewUtils.sanitizer.sanitize(S.SecurityContext.HTML,n)),this._expr_0=n),this.detectViewChildrenChanges(t)},e}(a.AppView)},1031:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(112),a=n(892),c=n(941),l=n(1032),u=n(881),h=function(){function t(){}return t=o([r.NgModule({declarations:[c.ValidatorInfoComponent],imports:[s.CommonModule,a.EscapeHtmlModule,l.validatorInfoRouting],providers:[u.SolutionService]}),i("design:paramtypes",[])],t)}();e.ValidatorInfoModule=h},1032:function(t,e,n){"use strict";var o=n(223),i=n(941),r=[{path:"",children:[{path:"",component:i.ValidatorInfoComponent}]}];e.validatorInfoRouting=o.RouterModule.forChild(r)},1056:function(t,e){t.exports='<div class="container" style="margin-top: 3%">\r\n    <div class="row">\r\n        <div class="col-xs-12 col-md-8 col-md-offset-2">\r\n            <div *ngIf="solution">\r\n                <div [innerHTML]=" solution.info | escapeHtml"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},833:function(t,e,n){"use strict";var o=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(161),r=n(1031),s=n(226),a=n(892),c=n(163),l=n(91),u=n(881),h=n(1030),p=n(160),f=n(941),d=n(162),_=n(90),m=n(92),v=function(t){function e(e){t.call(this,e,[h.ValidatorInfoComponentNgFactory],[])}return o(e,t),Object.defineProperty(e.prototype,"_NgLocalization_4",{get:function(){return null==this.__NgLocalization_4&&(this.__NgLocalization_4=new l.NgLocaleLocalization(this.parent.get(p.LOCALE_ID))),this.__NgLocalization_4},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ROUTES_5",{get:function(){return null==this.__ROUTES_5&&(this.__ROUTES_5=[[{path:"",children:[{path:"",component:f.ValidatorInfoComponent}]}]]),this.__ROUTES_5},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_SolutionService_6",{get:function(){return null==this.__SolutionService_6&&(this.__SolutionService_6=new u.SolutionService(this.parent.get(d.Http),this.parent.get(_.FlashMessageService))),this.__SolutionService_6},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._CommonModule_0=new s.CommonModule,this._EscapeHtmlModule_1=new a.EscapeHtmlModule,this._RouterModule_2=new c.RouterModule(this.parent.get(c.ROUTER_FORROOT_GUARD,null)),this._ValidatorInfoModule_3=new r.ValidatorInfoModule,this._ValidatorInfoModule_3},e.prototype.getInternal=function(t,e){return t===s.CommonModule?this._CommonModule_0:t===a.EscapeHtmlModule?this._EscapeHtmlModule_1:t===c.RouterModule?this._RouterModule_2:t===r.ValidatorInfoModule?this._ValidatorInfoModule_3:t===l.NgLocalization?this._NgLocalization_4:t===m.ROUTES?this._ROUTES_5:t===u.SolutionService?this._SolutionService_6:e},e.prototype.destroyInternal=function(){},e}(i.NgModuleInjector);e.ValidatorInfoModuleNgFactory=new i.NgModuleFactory(v,r.ValidatorInfoModule)},881:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(225),a=n(327),c=n(910),l=n(918),u=n(90),h=n(908),p=n(916),f=n(917),d=function(){function t(t,e){this.http=t,this.flashMessageService=e,this.successValidation=new r.EventEmitter,this.worseSolutions=new r.EventEmitter,this.resultsInstance=new r.EventEmitter,this.resultsAuthor=new r.EventEmitter,this.resultsAuthorTechnique=new r.EventEmitter,this.successValidationDeleteSource=new a.Subject,this.worseSolutionsDeleteSource=new a.Subject,this.successValidationDelete$=this.successValidationDeleteSource.asObservable(),this.worseSolutionsDeleteSource$=this.worseSolutionsDeleteSource.asObservable();var o=n(228);this.hostUrl=o.hostUrl}return t.prototype.validate=function(t){var e=this;return this.xmlHttp=new XMLHttpRequest,a.Observable.create(function(n){new s.Headers({"Content-Type":"multipart/form-data"});e.xmlHttp.onreadystatechange=function(){4===e.xmlHttp.readyState&&(200===e.xmlHttp.status?(n.next(e.xmlHttp.response),n.complete()):n.error(e.xmlHttp.response))},e.xmlHttp.open("POST",e.hostUrl.concat("validator/")),e.xmlHttp.setRequestHeader("enctype","multipart/form-data"),e.xmlHttp.send(t)})},t.prototype.saveSolution=function(t,e,n){var o=this;e||n?this.savePaper(new l.Paper(e,n)).subscribe(function(e){t.paperId=e,o.saveSolutionWithoutFile(t).subscribe(function(t){o.saveFileSolution(t).subscribe(function(){o.flashMessageService.showMessage("Solution was uploaded.","alert-success"),o.successValidationHideResult()},function(t){return console.error(JSON.parse(t))})},function(t){return console.error(t)})}):this.saveSolutionWithoutFile(t).subscribe(function(t){o.saveFileSolution(t).subscribe(function(){o.flashMessageService.showMessage("Solution was uploaded.","alert-success"),o.successValidationHideResult()},function(t){return console.error(JSON.parse(t))})},function(t){return console.error(t)})},t.prototype.getWorseSolutions=function(t){var e=JSON.stringify(t),n=sessionStorage.getItem("token")?"?token="+sessionStorage.getItem("token"):"",o=new s.Headers({"Content-Type":"application/json"});return this.http.post(this.hostUrl.concat("worseSolutions")+n,e,{headers:o}).map(function(t){for(var e=t.json().obj,n=[],o=0,i=e;o<i.length;o++){var r=i[o];n.push(new c.Solution(r.unassigned,r.total,r.sc,r.time,r.room,r.distr,r.technique,r.info,r.postDate,r.data,r.instance,r.paper,r._id,(!1)))}return n})["catch"](function(t){return a.Observable["throw"](t.json())})},t.prototype.savePaper=function(t){var e=JSON.stringify(t),n=new s.Headers({"Content-Type":"application/json"});return this.http.post(this.hostUrl.concat("paper"),e,{headers:n}).map(function(t){return t.json().obj.data._id})["catch"](function(t){return a.Observable["throw"](t.json())})},t.prototype.saveSolutionWithoutFile=function(t){var e=JSON.stringify(t),n=sessionStorage.getItem("token")?"?token="+sessionStorage.getItem("token"):"",o=new s.Headers({"Content-Type":"application/json"});return this.http.post(this.hostUrl.concat("solution")+n,e,{headers:o}).map(function(t){return t.json().obj.data._id})["catch"](function(t){return a.Observable["throw"](t.json())})},t.prototype.getSolution=function(t){return this.http.get(this.hostUrl.concat("solution/"+t)).map(function(t){var e=t.json().obj;return new c.Solution(e.unassigned,e.total,e.sc,e.time,e.room,e.distr,e.technique,e.info,e.postDate,e.data,e.instance,e.paper,e._id,(!1))})["catch"](function(t){return a.Observable["throw"](t)})},t.prototype.getSolutionsByLoggedUser=function(){var t=sessionStorage.getItem("token")?"?token="+sessionStorage.getItem("token"):"",e=new s.Headers({"Content-Type":"application/json"});return this.http.get(this.hostUrl.concat("solutionsByLoggedUser")+t,{headers:e}).map(function(t){for(var e=t.json().obj,n=[],o=0,i=e;o<i.length;o++){var r=i[o];n.push(new c.Solution(r.unassigned,r.total,r.sc,r.time,r.room,r.distr,r.technique,r.info,r.postDate,r.data,r.instance,r.paper?new l.Paper(r.paper.citation,r.paper.url,r.paper._id):null,r._id,(!1)))}return n})["catch"](function(t){return a.Observable["throw"](t)})},t.prototype.getSolutionsByInstance=function(t){return this.http.get(this.hostUrl.concat("solutionsByInstance/")+t).map(function(t){for(var e=t.json().obj,n=[],o=0,i=e;o<i.length;o++){var r=i[o];n.push(new h.SolutionResult(new f.Instance(r.instance.name,r.instance._id,r.instance.order),r.unassigned,r.total,r.sc,r.time,r.room,r.distr,r.technique,r.info,r.postDate,r.data,r.paper,new p.Author(r.user.firstName.concat(" ").concat(r.user.lastName),r.user._id),r._id))}return n})["catch"](function(t){return a.Observable["throw"](t)})},t.prototype.getSolutionsByUser=function(t){return this.http.get(this.hostUrl.concat("solutionsByUser/")+t).map(function(t){for(var e=t.json().obj,n=[],o=0,i=e;o<i.length;o++){var r=i[o];n.push(new h.SolutionResult(new f.Instance(r.instance.name,r.instance._id,r.instance.order),r.unassigned,r.total,r.sc,r.time,r.room,r.distr,r.technique,r.info,r.postDate,r.data,r.paper,new p.Author(r.user.firstName.concat(" ").concat(r.user.lastName),r.user._id),r._id))}return n})["catch"](function(t){return a.Observable["throw"](t)})},t.prototype.deletePaperFromSolution=function(t){var e=new s.Headers({"Content-Type":"application/json"});return this.http.patch(this.hostUrl.concat("solutionRemovePaper/")+t.solutionId,{headers:e}).map(function(t){return t.json()})["catch"](function(t){return a.Observable["throw"](t)})},t.prototype.successValidationShowResult=function(t,e){this.setSolutionFile(e),this.successValidation.emit(t)},t.prototype.successValidationHideResult=function(){this.successValidationDeleteSource.next()},t.prototype.worseSolutionsShow=function(t){this.worseSolutions.emit(t)},t.prototype.worseSolutionsHide=function(){this.worseSolutionsDeleteSource.next()},t.prototype.resultsInstanceShow=function(t){this.resultsInstance.emit(t)},t.prototype.resultsAuthorShow=function(t){this.resultsAuthor.emit(t)},t.prototype.resultsAuthorTechniqueShow=function(t){this.resultsAuthorTechnique.emit(t)},t.prototype.setSolutionFile=function(t){this.solutionFile=t},t.prototype.saveFileSolution=function(t){var e=this;return this.xmlHttp=new XMLHttpRequest,a.Observable.create(function(n){new s.Headers({"Content-Type":"multipart/form-data"});e.xmlHttp.onreadystatechange=function(){4===e.xmlHttp.readyState&&(200===e.xmlHttp.status?(n.next(e.xmlHttp.response),n.complete()):n.error(e.xmlHttp.response))};var o=new FormData;o.append("solution",e.solutionFile),e.xmlHttp.open("POST",e.hostUrl.concat("solutionFile/")+t),e.xmlHttp.setRequestHeader("enctype","multipart/form-data"),e.xmlHttp.send(o)})},t.prototype.updateSolutionPaper=function(t){var e=JSON.stringify(t),n=(sessionStorage.getItem("token")?"?token="+sessionStorage.getItem("token"):"",new s.Headers({"Content-Type":"application/json"}));return this.http.patch(this.hostUrl.concat("solutionAddPaper/")+t.solutionId,e,{headers:n}).map(function(t){return t.json()})["catch"](function(t){return a.Observable["throw"](t)})},t.prototype.deleteSolution=function(t){return this.http["delete"](this.hostUrl.concat("solution/")+t.solutionId).map(function(t){return t.json()})["catch"](function(t){return a.Observable["throw"](t.json())})},t.prototype.deleteSolutions=function(t){for(var e=0,n=t;e<n.length;e++){var o=n[e];this.deleteSolution(o).subscribe(function(){},function(t){return console.error(t)})}(t.length=1)?this.flashMessageService.showMessage("Solution was deleted.","alert-success"):this.flashMessageService.showMessage("Solutions were deleted.","alert-success")},t=o([r.Injectable(),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof s.Http&&s.Http)&&e||Object,"function"==typeof(d="undefined"!=typeof u.FlashMessageService&&u.FlashMessageService)&&d||Object])],t);var e,d}();e.SolutionService=d},892:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(900),a=function(){function t(){}return t=o([r.NgModule({declarations:[s.EscapeHtmlPipe],exports:[s.EscapeHtmlPipe]}),i("design:paramtypes",[])],t)}();e.EscapeHtmlModule=a},900:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=function(){function t(){}return t.prototype.transform=function(t){return null==t?console.error("Value can not be null"):t.replace(/(?:\r\n|\r|\n)/g,"<br />").replace(/(?:\t)/g,"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;")},t=o([r.Pipe({name:"escapeHtml",pure:!1}),i("design:paramtypes",[])],t)}();e.EscapeHtmlPipe=s},908:function(t,e){"use strict";var n=function(){function t(t,e,n,o,i,r,s,a,c,l,u,h,p,f){this.instance=t,this.unassigned=e,this.total=n,this.sc=o,this.time=i,this.room=r,this.distr=s,this.technique=a,this.info=c,this.postDate=l,this.data=u,this.paper=h,this.author=p,this.solutionId=f}return t}();e.SolutionResult=n},910:function(t,e){"use strict";var n=function(){function t(t,e,n,o,i,r,s,a,c,l,u,h,p,f){this.unassigned=t,this.total=e,this.sc=n,this.time=o,this.room=i,this.distr=r,this.technique=s,this.info=a,this.postDate=c,this.data=l,this.instance=u,this.paper=h,this.solutionId=p,this.isChecked=f}return t}();e.Solution=n},916:function(t,e){"use strict";var n=function(){function t(t,e){this.name=t,this.authorId=e}return t}();e.Author=n},917:function(t,e){"use strict";var n=function(){function t(t,e,n){this.name=t,this.instanceId=e,this.order=n}return t}();e.Instance=n},918:function(t,e){"use strict";var n=function(){function t(t,e,n){this.citation=t,this.url=e,this.paperId=n}return t}();e.Paper=n},941:function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(2),s=n(223),a=n(881),c=function(){function t(t,e){this.solutionService=t,this.activatedRoute=e}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.activatedRoute.queryParams.subscribe(function(e){var n=e.solutionId;t.solutionService.getSolution(n).subscribe(function(e){t.solution=e},function(t){return console.error(t)})})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t=o([r.Component({selector:"app-solution-validator-info",template:n(1056)}),i("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.SolutionService&&a.SolutionService)&&e||Object,"function"==typeof(c="undefined"!=typeof s.ActivatedRoute&&s.ActivatedRoute)&&c||Object])],t);var e,c}();e.ValidatorInfoComponent=c}});